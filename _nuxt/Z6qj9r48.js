import{r as a,aA as t}from"#entry";const l=()=>{const e=a({defaultVersionId:null,notesPerVersion:!1,bookmarksPerVersion:!1,defaultVersion:null}),o=async r=>{console.log("Updating preferences with payload:",r);const{data:s}=await $fetch("/api/preferences",{method:"PUT",body:r});e.value.defaultVersionId=s.defaultVersionId,e.value.notesPerVersion=s.notesPerVersion,e.value.bookmarksPerVersion=s.bookmarksPerVersion},n=async()=>{const{data:r}=await $fetch("/api/preferences",{method:"GET"});return e.value.defaultVersionId=r.defaultVersionId,e.value.notesPerVersion=r.notesPerVersion,e.value.bookmarksPerVersion=r.bookmarksPerVersion,e.value.defaultVersion=r.defaultVersion,e.value};return{preferences:t(e),updatePreferences:o,fetchPreferences:n}};export{l as u};
