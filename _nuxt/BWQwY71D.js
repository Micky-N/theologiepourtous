import{B as T,v as A,C as I,J as N,D as P,bo as V,z as i,f as c,G as t,w as o,I as j,e as u,h as l,g as a,K as q,L as z,M as L,E as f,t as g,N as M,O as E,P as H,Q as O}from"#entry";import{_ as R,a as F}from"./BWlD0d5-.js";import{_ as G,a as J,b as K}from"./UV6Zsklf.js";import{u as h}from"./_ToU5kKQ.js";import{q as Q,a as W}from"./DcC1dbVN.js";import"./dw0O8lfv.js";import"./iik6CYzq.js";const X=["src"],Y={class:"text-muted"},Z={class:"flex flex-wrap items-center gap-3 mt-4"},le=T({__name:"[slug]",props:{themes:{}},async setup(v){let s,m;const n=A(),{data:e}=([s,m]=I(()=>h(n.path,()=>Q("lessons").path(n.path).first(),"$jlyxFBwIyO")),s=await s,m(),s);if(!e.value)throw N({statusCode:404,statusMessage:"Lesson not found",fatal:!0});const{data:_}=h(`${n.path}-surround`,()=>W("lessons",n.path,{fields:["description"]}));P({title:e.value.title,description:e.value.seo.description,keywords:e.value.seo.keywords,author:e.value.author.name,ogTitle:e.value.title,ogDescription:e.value.seo.description,ogImage:e.value.image.src,ogType:"article",ogUrl:e.value.seo.url,twitterCard:e.value.seo.card,twitterTitle:e.value.title,twitterDescription:e.value.seo.description,twitterImage:e.value.image.src}),V({htmlAttrs:{lang:e.value?.seo.lang||"fr"},link:[{rel:"canonical",href:e.value.seo.url}]});const d=p=>v.themes.find(r=>r.path==="/enseignements/"+p.theme);return(p,r)=>{const y=M,w=L,k=q,C=R,$=G,b=O,x=J,U=F,B=K,D=E,S=j;return t(e)?(u(),i(S,{key:0},{default:o(()=>[l("img",{src:t(e).image.src,class:"w-full aspect-video max-h-[32rem] object-cover object-center"},null,8,X),a(C,{title:t(e).title,description:t(e).description},{headline:o(()=>[a(y,f({label:d(t(e))?.title,color:d(t(e))?.color||"primary"},{variant:"subtle"}),null,16),r[0]||(r[0]=l("span",{class:"text-muted"},"Â·",-1)),l("time",Y,g(new Date(t(e).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[l("div",Z,[a(k,{to:t(e).author.to,color:"neutral",variant:"subtle",target:"_blank",size:"sm"},{default:o(()=>[a(w,f(t(e).author.avatar,{alt:"Author avatar",size:"sm"}),null,16),z(" "+g(t(e).author.name),1)]),_:1},8,["to"])])]),_:1},8,["title","description"]),a(D,null,H({default:o(()=>[a(U,null,{default:o(()=>[t(e)?(u(),i($,{key:0,value:t(e)},null,8,["value"])):c("",!0),t(_)?.length?(u(),i(b,{key:1})):c("",!0),a(x,{surround:t(_)},null,8,["surround"])]),_:1})]),_:2},[t(e)?.body?.toc?.links?.length?{name:"right",fn:o(()=>[a(B,{links:t(e).body.toc.links},null,8,["links"])]),key:"0"}:void 0]),1024)]),_:1})):c("",!0)}}});export{le as default};
