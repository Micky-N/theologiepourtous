import{B as P,v as N,C as f,K as A,D as V,z as i,f as c,G as e,w as s,J as q,e as l,g as o,h as u,L as z,M as E,N as I,E as g,t as h,O as M,P as O,Q as R,R as T}from"#entry";import{_ as L,a as G}from"./BiYaFSpO.js";import{_ as H,a as J,b as K}from"./D9YLhOh7.js";import{u as v}from"./B7UDBhQ8.js";import{q as Q,a as Y}from"./4UhgtPXI.js";import{a as j,d as F}from"./D8rO69WY.js";import"./ab01gJ8x.js";import"./iik6CYzq.js";import"./Cq_Qy9-I.js";const W={class:"text-muted"},X={class:"flex flex-wrap items-center gap-3 mt-4"},ut=P({__name:"[slug]",async setup(Z){let a,n;const r=N(),{data:t}=([a,n]=f(()=>v(r.path,()=>Q("posts").path(r.path).first(),"$n6r2E9lutY")),a=await a,n(),a);if(!t.value)throw A({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:_}=([a,n]=f(()=>v(`${r.path}-surround`,()=>Y("posts",r.path,{fields:["description"]}))),a=await a,n(),a),m=t.value.title,p=t.value.seo?.description||t.value.description;return V({title:m,ogTitle:m,description:p,ogDescription:p}),t.value.image?.src?j({url:t.value.image.src}):F("Saas",{}),(tt,d)=>{const y=M,C=I,$=z,k=L,x=H,U=T,b=J,w=G,S=K,B=O,D=q;return e(t)?(l(),i(D,{key:0},{default:s(()=>[o(k,{title:e(t).title,description:e(t).description},{headline:s(()=>[o(y,g(e(t).badge,{variant:"subtle"}),null,16),d[0]||(d[0]=u("span",{class:"text-muted"},"Â·",-1)),u("time",W,h(new Date(e(t).date).toLocaleDateString("fr",{year:"numeric",month:"short",day:"numeric"})),1)]),default:s(()=>[u("div",X,[o($,{to:e(t).author.to||void 0,color:"neutral",variant:"subtle",target:"_blank",size:"sm"},{default:s(()=>[o(C,g(e(t).author.avatar,{alt:"Author avatar",size:"2xs"}),null,16),E(" "+h(e(t).author.name),1)]),_:1},8,["to"])])]),_:1},8,["title","description"]),o(B,null,R({default:s(()=>[o(w,null,{default:s(()=>[e(t)?(l(),i(x,{key:0,value:e(t)},null,8,["value"])):c("",!0),e(_)?.length?(l(),i(U,{key:1})):c("",!0),o(b,{surround:e(_)},null,8,["surround"])]),_:1})]),_:2},[e(t)?.body?.toc?.links?.length?{name:"right",fn:s(()=>[o(S,{links:e(t).body.toc.links},null,8,["links"])]),key:"0"}:void 0]),1024)]),_:1})):c("",!0)}}});export{ut as default};
