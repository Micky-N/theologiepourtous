import{z as S,v as A,X as B,a5 as D,Z as P,a3 as T,A as i,f as l,H as e,w as o,a0 as V,e as c,h as r,g as a,V as E,E as N,a6 as q,G as d,t as p,a4 as z,a2 as H,a7 as I,a8 as j}from"#entry";import{_ as M,a as R}from"./BfCWNavo.js";import{_ as X}from"./CePqo4f8.js";import{_ as G,a as L}from"./B0pnJRkO.js";import{u as f}from"./CNRDJp2J.js";import{q as Z,a as F}from"./BpKZpruf.js";import"./DJPvN_0F.js";import"./iik6CYzq.js";const J=["src"],K={class:"text-muted"},O={class:"flex flex-wrap items-center gap-3 mt-4"},it=S({__name:"[slug]",async setup(Q){let s,u;const n=A(),{data:t}=([s,u]=B(()=>f(n.path,()=>Z("posts").path(n.path).first(),"$-EmEa3i_tX")),s=await s,u(),s);if(!t.value)throw D({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:_}=f(`${n.path}-surround`,()=>F("posts",n.path,{fields:["description"]}));return P({title:t.value.title,description:t.value.seo.description,keywords:t.value.seo.keywords,author:t.value.author.name,ogTitle:t.value.title,ogDescription:t.value.seo.description,ogImage:t.value.image.src,ogType:"article",ogUrl:t.value.seo.url,twitterCard:t.value.seo.card,twitterTitle:t.value.title,twitterDescription:t.value.seo.description,twitterImage:t.value.image.src}),T({htmlAttrs:{lang:t.value?.seo.lang||"fr"},link:[{rel:"canonical",href:t.value.seo.url}]}),(W,m)=>{const g=z,v=q,h=E,y=M,k=X,w=j,$=G,C=R,U=L,x=H,b=V;return e(t)?(c(),i(b,{key:0},{default:o(()=>[r("img",{src:e(t).image.src,class:"w-full aspect-video max-h-[32rem] object-cover object-center"},null,8,J),a(y,{title:e(t).title,description:e(t).description},{headline:o(()=>[a(g,d(e(t).badge,{variant:"subtle"}),null,16),m[0]||(m[0]=r("span",{class:"text-muted"},"Â·",-1)),r("time",K,p(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[r("div",O,[a(h,{to:e(t).author.to,color:"neutral",variant:"subtle",target:"_blank",size:"sm"},{default:o(()=>[a(v,d(e(t).author.avatar,{alt:"Author avatar",size:"sm"}),null,16),N(" "+p(e(t).author.name),1)]),_:1},8,["to"])])]),_:1},8,["title","description"]),a(x,null,I({default:o(()=>[a(C,null,{default:o(()=>[e(t)?(c(),i(k,{key:0,value:e(t)},null,8,["value"])):l("",!0),e(_)?.length?(c(),i(w,{key:1})):l("",!0),a($,{surround:e(_)},null,8,["surround"])]),_:1})]),_:2},[e(t)?.body?.toc?.links?.length?{name:"right",fn:o(()=>[a(U,{links:e(t).body.toc.links},null,8,["links"])]),key:"0"}:void 0]),1024)]),_:1})):l("",!0)}}});export{it as default};
