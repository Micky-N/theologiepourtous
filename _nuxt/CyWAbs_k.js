import{B as D,v as S,C as T,K as q,D as I,b8 as N,z as _,f as l,G as t,w as o,J as P,e as s,h as n,g as i,d as c,F as f,H as g,O as R,t as h,M as V,P as j,Q as A,R as F}from"#entry";import{_ as H,a as L}from"./BiYaFSpO.js";import{_ as M,a as E,b as O}from"./CD4RWs4x.js";import{u as y}from"./BQFnSayp.js";import{q as z,a as G}from"./D0jGMvLM.js";import"./r91cmkKp.js";import"./iik6CYzq.js";const J=["src"],K={class:"space-x-1"},Q={class:"text-muted"},W={key:0},X={class:"flex flex-col md:flex-row md:items-center gap-2 mt-4"},Y={key:0,class:"text-sm font-medium text-muted"},Z={class:"flex flex-wrap items-center gap-2"},ce=D({__name:"[slug]",async setup(ee){let u,m;const r=S(),{data:e}=([u,m]=T(()=>y(r.path,()=>z("lessons").path(r.path).first(),"$jlyxFBwIyO")),u=await u,m(),u);if(!e.value)throw q({statusCode:404,statusMessage:"Lesson not found",fatal:!0});const{data:d}=y(`${r.path}-surround`,()=>G("lessons",r.path,{fields:["description"]}).where("theme","=",r.params.theme));return I({title:e.value.title,description:e.value.seo.description,keywords:e.value.seo.keywords,author:"Théologie pour Tous",ogTitle:e.value.title,ogDescription:e.value.seo.description,ogImage:e.value.image.src,ogType:"article",ogUrl:e.value.seo.url,twitterCard:e.value.seo.card,twitterTitle:e.value.title,twitterDescription:e.value.seo.description,twitterImage:e.value.image.src}),N({htmlAttrs:{lang:e.value?.seo.lang||"fr"},link:[{rel:"canonical",href:e.value.seo.url}]}),(te,p)=>{const v=R,x=H,k=M,w=F,b=E,C=L,$=O,U=j,B=P;return t(e)?(s(),_(B,{key:0},{default:o(()=>[n("img",{src:t(e).image.src,class:"w-full aspect-video rounded-b-xl max-h-[32rem] object-cover object-center"},null,8,J),i(x,{title:t(e).title,description:t(e).description},{headline:o(()=>[n("div",K,[n("time",Q,h(new Date(t(e).date).toLocaleDateString("fr",{year:"numeric",month:"long",day:"numeric"})),1),p[0]||(p[0]=n("span",{class:"text-muted"},"·",-1)),(s(!0),c(f,null,g(t(e).tags,a=>(s(),c("span",{key:a,class:"text-warning-600 font-light"},[V(h(a),1),a!==t(e).tags[t(e).tags.length-1]?(s(),c("span",W,", ")):l("",!0)]))),128))])]),default:o(()=>[n("div",X,[t(e).biblical_references?.length?(s(),c("h3",Y," Références bibliques : ")):l("",!0),n("div",Z,[(s(!0),c(f,null,g(t(e).biblical_references,a=>(s(),_(v,{key:a,label:a,color:"secondary",variant:"subtle"},null,8,["label"]))),128))])])]),_:1},8,["title","description"]),i(U,null,A({default:o(()=>[i(C,null,{default:o(()=>[t(e)?(s(),_(k,{key:0,value:t(e)},null,8,["value"])):l("",!0),t(d)?.length?(s(),_(w,{key:1})):l("",!0),i(b,{surround:t(d)},null,8,["surround"])]),_:1})]),_:2},[t(e)?.body?.toc?.links?.length?{name:"right",fn:o(()=>[i($,{links:t(e).body.toc.links},null,8,["links"])]),key:"0"}:void 0]),1024)]),_:1})):l("",!0)}}});export{ce as default};
