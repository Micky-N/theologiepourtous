import{B as w,r as c,a3 as b,W as f,z as k,e as o,w as p,h as r,X as B,d as i,f as x,g as S,Z as P,t as u,M as V,bk as L}from"#entry";const N=["id"],C={class:"w-72 max-w-xs p-2"},G={key:0,class:"flex items-center gap-2 text-gray-600"},U={key:1,class:"text-sm text-red-600"},$={key:2,class:"space-y-1"},q={class:"text-xs text-gray-500"},H={key:0},I={class:"italic text-gray-800 leading-relaxed"},M=w({__name:"BiblicalReferencePopover",props:{verse:{}},setup(s){const v=c(!1),d=c(!1),a=c(null),e=c(null),l=b("cache",()=>new Map);async function h(t){return await new Promise(m=>setTimeout(m,1e3)),{"Psaume 139:1-6":{reference:"Psaume 139:1-6",text:"Éternel ! tu me sondes et tu me connais… tu pénètres de loin ma pensée.",version:"LSG"},"Ésaïe 46:9-10":{reference:"Ésaïe 46:9-10",text:"J’annonce dès le commencement ce qui doit arriver, et longtemps d’avance ce qui n’est pas encore accompli…",version:"LSG"},"Hébreux 4:13":{reference:"Hébreux 4:13",text:"Nulle créature n’est cachée devant lui, mais tout est nu et à découvert à ses yeux.",version:"LSG"}}[t]??{reference:t,text:"Verset non trouvé",version:"LSG"}}async function _(){if(a.value=null,l.value.has(s.verse)){e.value=l.value.get(s.verse);return}d.value=!0,e.value=null;try{const t=await h(s.verse);l.value.set(s.verse,t),e.value=t}catch{a.value="Impossible de charger le verset."}finally{d.value=!1}}return f(v,t=>{t&&_()}),f(()=>s.verse,()=>{e.value=l.value.get(s.verse)??null,a.value=null}),(t,n)=>{const m=P,g=L;return o(),k(g,{open:v.value,"onUpdate:open":n[0]||(n[0]=y=>v.value=y),mode:"hover"},{content:p(()=>[r("div",C,[d.value?(o(),i("div",G,[S(m,{name:"i-heroicons-arrow-path-20-solid",class:"animate-spin"}),n[1]||(n[1]=r("span",null,"Chargement du verset…",-1))])):a.value?(o(),i("div",U,u(a.value),1)):e.value?(o(),i("div",$,[r("div",q,[V(u(e.value.reference),1),e.value.version?(o(),i("span",H," — "+u(e.value.version),1)):x("",!0)]),r("div",I,u(e.value.text),1)])):x("",!0)])]),default:p(()=>[r("a",{id:s.verse,class:"hover:underline"},[B(t.$slots,"default")],8,N)]),_:3},8,["open"])}}}),T=Object.assign(M,{__name:"BiblicalReferencePopover"});export{T as default};
