import{_ as $,a as D}from"./C9Z6mQXB.js";import{_ as q}from"./C-5Aldvm.js";import{_ as I}from"./DQq9DpbB.js";import{_ as A}from"./D8jp3OfA.js";import{B as E,v as F,r as H,C as y,D as L,z as l,e as i,w as c,g as m,E as M,G as n,f as N,d as R,F as S,H as V,I as j,J as z}from"#entry";import{u as p}from"./BfJiThSv.js";import{q as u}from"./BolIq2B0.js";import{d as G}from"./D8rO69WY.js";import"./D5bKmbvP.js";const r=6,at=E({__name:"index",async setup(J){let e,s;const _=F(),a=H(parseInt(_.query.page||"1")),{data:o}=([e,s]=y(()=>p("blog",()=>u("blog").first())),e=await e,s(),e),{data:d}=([e,s]=y(()=>p("posts-count",()=>u("posts").count())),e=await e,s(),e),{data:v}=p(_.path,()=>u("posts").limit(r).skip((a.value-1)*r).all(),{watch:[a]}),C=Math.ceil((d.value||0)/r),g=o.value?.seo?.title||o.value?.title,f=o.value?.seo?.description||o.value?.description;return L({title:g,ogTitle:g,description:f,ogDescription:f}),G(),(O,h)=>{const w=$,P=q,b=I,x=A,B=D,U=z;return i(),l(U,null,{default:c(()=>[m(w,M(n(o),{class:"py-[50px]"}),null,16),m(B,null,{default:c(()=>[m(b,null,{default:c(()=>[(i(!0),R(S,null,V(n(v),(t,k)=>(i(),l(P,{key:k,to:t.path,title:t.title,description:t.description,image:t.image,date:new Date(t.date).toLocaleDateString("fr",{year:"numeric",month:"short",day:"numeric"}),authors:[{...t.author,to:t.author.to||void 0}],badge:t.badge,orientation:"vertical",variant:"outline",ui:{description:"line-clamp-2"}},null,8,["to","title","description","image","date","authors","badge"]))),128))]),_:1}),n(C)>1?(i(),l(x,{key:0,page:n(a),"onUpdate:page":h[0]||(h[0]=t=>j(a)?a.value=t:null),"items-per-page":r,"show-edges":"",total:n(d),to:t=>({path:"/blog",query:t>1?{page:t}:{}}),class:"mt-10 flex justify-center"},null,8,["page","total","to"])):N("",!0)]),_:1})]),_:1})}}});export{at as default};
