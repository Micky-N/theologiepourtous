import{z as I,C as R,A as d,e as r,w as u,D as g,E as k,G as C,H as n,P as z,I as W,J as X,K as Y,L as y,M as Z,N as ee,t as te,O as ae,Q as se,y as le,R as ne,S as oe,U as T,g as P,n as w,f as L,d as O,V as N,F as V,W as G,v as ie,r as re,X as H,Y as ue,Z as de,$ as ce,a0 as fe,a1 as pe,a2 as ve}from"#entry";import{_ as ge,a as me}from"./BfCWNavo.js";import{_ as ye}from"./d6kOnWs1.js";import{_ as be}from"./CjXOujdq.js";import{u as D}from"./ClT8TEA5.js";import{q as U}from"./C1zxrsYq.js";import{d as Pe}from"./DinTkfBd.js";import"./D_JHjnFV.js";import"./Ba9cmeS1.js";var _e=I({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;return R(),(e,o)=>(r(),d(n(z),C(s,{"data-type":"ellipsis"}),{default:u(()=>[g(e.$slots,"default",{},()=>[o[0]||(o[0]=k("â€¦"))])]),_:3},16))}}),he=_e;const[B,qe]=W("PaginationRoot");var Ce=I({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(t,{emit:s}){const e=t,o=s,{siblingCount:l,disabled:a,showEdges:i}=X(e);R();const c=Y(e,"page",o,{defaultValue:e.defaultPage,passive:e.page===void 0}),b=y(()=>Math.max(1,Math.ceil(e.total/(e.itemsPerPage||1))));return qe({page:c,onPageChange(f){c.value=f},pageCount:b,siblingCount:l,disabled:a,showEdges:i}),(f,h)=>(r(),d(n(z),{as:f.as,"as-child":f.asChild},{default:u(()=>[g(f.$slots,"default",{page:n(c),pageCount:b.value})]),_:3},8,["as","as-child"]))}}),Ie=Ce,xe=I({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=B();R();const o=y(()=>e.page.value===1||e.disabled.value);return(l,a)=>(r(),d(n(z),C(s,{"aria-label":"First Page",type:l.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&n(e).onPageChange(1))}),{default:u(()=>[g(l.$slots,"default",{},()=>[a[1]||(a[1]=k("First page"))])]),_:3},16,["type","disabled"]))}}),$e=xe,we=I({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=B();R();const o=y(()=>e.page.value===e.pageCount.value||e.disabled.value);return(l,a)=>(r(),d(n(z),C(s,{"aria-label":"Last Page",type:l.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&n(e).onPageChange(n(e).pageCount.value))}),{default:u(()=>[g(l.$slots,"default",{},()=>[a[1]||(a[1]=k("Last page"))])]),_:3},16,["type","disabled"]))}}),Re=we;function $(t,s){const e=s-t+1;return Array.from({length:e},(o,l)=>l+t)}function ze(t){return t.map(s=>typeof s=="number"?{type:"page",value:s}:{type:"ellipsis"})}const M="ellipsis";function Ne(t,s,e,o){const a=s,i=Math.max(t-e,1),c=Math.min(t+e,a);if(o){const f=Math.min(2*e+5,s)-2,h=i>3&&Math.abs(a-f-1+1)>2&&Math.abs(i-1)>2,x=c<a-2&&Math.abs(a-f)>2&&Math.abs(a-c)>2;if(!h&&x)return[...$(1,f),M,a];if(h&&!x){const p=$(a-f+1,a);return[1,M,...p]}if(h&&x){const p=$(i,c);return[1,M,...p,M,a]}return $(1,a)}else{const b=e*2+1;return s<b?$(1,a):t<=e+1?$(1,b):s-t<=e?$(s-b+1,a):$(i,c)}}var Le=I({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;R();const e=B(),o=y(()=>ze(Ne(e.page.value,e.pageCount.value,e.siblingCount.value,e.showEdges.value)));return(l,a)=>(r(),d(n(z),Z(ee(s)),{default:u(()=>[g(l.$slots,"default",{items:o.value})]),_:3},16))}}),ke=Le,Be=I({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),o=y(()=>e.page.value===s.value),l=y(()=>e.disabled.value);return(a,i)=>(r(),d(n(z),C(s,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":o.value?"page":void 0,"data-selected":o.value?"true":void 0,disabled:l.value,type:a.as==="button"?"button":void 0,onClick:i[0]||(i[0]=c=>!l.value&&n(e).onPageChange(a.value))}),{default:u(()=>[g(a.$slots,"default",{},()=>[k(te(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Se=Be,Ee=I({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),o=y(()=>e.page.value===e.pageCount.value||e.disabled.value);return(l,a)=>(r(),d(n(z),C(s,{"aria-label":"Next Page",type:l.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&n(e).onPageChange(n(e).page.value+1))}),{default:u(()=>[g(l.$slots,"default",{},()=>[a[1]||(a[1]=k("Next page"))])]),_:3},16,["type","disabled"]))}}),Me=Ee,Fe=I({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),o=y(()=>e.page.value===1||e.disabled.value);return(l,a)=>(r(),d(n(z),C(s,{"aria-label":"Previous Page",type:l.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&n(e).onPageChange(n(e).page.value-1))}),{default:u(()=>[g(l.$slots,"default",{},()=>[a[1]||(a[1]=k("Prev page"))])]),_:3},16,["type","disabled"]))}}),De=Fe;const Ue={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},je={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:[String,Object],required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},lastIcon:{type:[String,Object],required:!1},ellipsisIcon:{type:[String,Object],required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(t,{emit:s}){const e=t,o=s,l=ae(),{dir:a}=se(),i=le(),c=ne(oe(e,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),o),b=y(()=>e.firstIcon||(a.value==="rtl"?i.ui.icons.chevronDoubleRight:i.ui.icons.chevronDoubleLeft)),f=y(()=>e.prevIcon||(a.value==="rtl"?i.ui.icons.chevronRight:i.ui.icons.chevronLeft)),h=y(()=>e.nextIcon||(a.value==="rtl"?i.ui.icons.chevronLeft:i.ui.icons.chevronRight)),x=y(()=>e.lastIcon||(a.value==="rtl"?i.ui.icons.chevronDoubleLeft:i.ui.icons.chevronDoubleRight)),m=y(()=>T({extend:T(Ue),...i.ui?.pagination||{}})());return(p,A)=>(r(),d(n(Ie),C(n(c),{class:m.value.root({class:[e.ui?.root,e.class]})}),{default:u(({page:q,pageCount:S})=>[P(n(ke),{class:w(m.value.list({class:e.ui?.list}))},{default:u(({items:F})=>[t.showControls||l.first?(r(),d(n($e),{key:0,"as-child":"",class:w(m.value.first({class:e.ui?.first}))},{default:u(()=>[g(p.$slots,"first",{},()=>[P(N,{color:t.color,variant:t.variant,size:t.size,icon:b.value,to:t.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):L("",!0),t.showControls||l.prev?(r(),d(n(De),{key:1,"as-child":"",class:w(m.value.prev({class:e.ui?.prev}))},{default:u(()=>[g(p.$slots,"prev",{},()=>[P(N,{color:t.color,variant:t.variant,size:t.size,icon:f.value,to:q>1?t.to?.(q-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):L("",!0),(r(!0),O(V,null,G(F,(_,E)=>(r(),O(V,null,[_.type==="page"?(r(),d(n(Se),{key:E,"as-child":"",value:_.value,class:w(m.value.item({class:e.ui?.item}))},{default:u(()=>[g(p.$slots,"item",C({ref_for:!0},{item:_,index:E,page:q,pageCount:S}),()=>[P(N,{color:q===_.value?t.activeColor:t.color,variant:q===_.value?t.activeVariant:t.variant,size:t.size,label:String(_.value),ui:{label:m.value.label()},to:t.to?.(_.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(r(),d(n(he),{key:_.type,index:E,"as-child":"",class:w(m.value.ellipsis({class:e.ui?.ellipsis}))},{default:u(()=>[g(p.$slots,"ellipsis",{},()=>[P(N,{color:t.color,variant:t.variant,size:t.size,icon:t.ellipsisIcon||n(i).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["index","class"]))],64))),256)),t.showControls||l.next?(r(),d(n(Me),{key:2,"as-child":"",class:w(m.value.next({class:e.ui?.next}))},{default:u(()=>[g(p.$slots,"next",{},()=>[P(N,{color:t.color,variant:t.variant,size:t.size,icon:h.value,to:q<S?t.to?.(q+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):L("",!0),t.showControls||l.last?(r(),d(n(Re),{key:3,"as-child":"",class:w(m.value.last({class:e.ui?.last}))},{default:u(()=>[g(p.$slots,"last",{},()=>[P(N,{color:t.color,variant:t.variant,size:t.size,icon:x.value,to:t.to?.(S)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):L("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},j=7,We=I({__name:"index",async setup(t){let s,e;const o=ie(),l=re(parseInt(o.query.page||"1")),{data:a}=([s,e]=H(()=>D("blog",()=>U("blog").first())),s=await s,e(),s),{data:i}=([s,e]=H(()=>D("posts-count",()=>U("posts").count())),s=await s,e(),s),{data:c}=D(o.path,()=>U("posts").limit(j).skip((l.value-1)*j).all(),{watch:[l]}),b=Math.ceil((i.value||0)/j);(l.value<1||o.query.page&&l.value===1||l.value>b)&&ue("/blog");const f=m=>m.id===c.value?.[0]?.id&&l.value===1,h=a.value?.seo?.title||a.value?.title,x=a.value?.seo?.description||a.value?.description;return de({title:h,ogTitle:h,description:x,ogDescription:x}),Pe(),(m,p)=>{const A=ce,q=ge,S=ye,F=be,_=je,E=me,J=fe,K=ve;return r(),d(K,null,{default:u(()=>[P(A,{src:"/images/hero-blog.webp",class:"w-full aspect-video max-h-[32rem] object-cover object-center"}),P(J,null,{default:u(()=>[P(q,C(n(a),{class:"py-[50px]"}),null,16),P(E,null,{default:u(()=>[n(c)?(r(),d(F,{key:0},{default:u(()=>[(r(!0),O(V,null,G(n(c),(v,Q)=>(r(),d(S,{key:Q,to:v.path,title:v.title,description:v.description,image:v.image,date:new Date(v.date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"}),authors:[v.author],badge:v.badge,orientation:f(v)?"horizontal":"vertical",class:w([f(v)&&"col-span-full"]),variant:"naked",ui:{description:"line-clamp-2"}},null,8,["to","title","description","image","date","authors","badge","orientation","class"]))),128))]),_:1})):L("",!0),n(b)>1?(r(),d(_,{key:1,page:n(l),"onUpdate:page":p[0]||(p[0]=v=>pe(l)?l.value=v:null),"show-edges":"",total:n(i),to:v=>({path:"/blog",query:v>1?{page:v}:{}}),class:"mt-10 flex justify-center"},null,8,["page","total","to"])):L("",!0)]),_:1})]),_:1})]),_:1})}}});export{We as default};
