import{B as I,ag as R,z as d,e as r,w as u,W as g,L as k,E as C,G as n,X as z,af as Y,aq as Q,ah as Z,U as y,aG as ee,aJ as te,t as ae,a4 as se,a1 as le,y as ne,aI as oe,a3 as ie,V as T,g as P,n as w,f as N,d as V,K as L,F as A,H,v as re,r as ue,C as G,bn as de,D as ce,O as fe,R as pe,I as ve,Y as ge}from"#entry";import{_ as me,a as ye}from"./BWlD0d5-.js";import{_ as be}from"./S9ywRh7x.js";import{_ as Pe}from"./Bi3gJ5EM.js";import{u as j}from"./_ToU5kKQ.js";import{q as O}from"./DcC1dbVN.js";import{d as he}from"./D8rO69WY.js";import"./YrRf4_T3.js";var _e=I({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;return R(),(e,o)=>(r(),d(n(z),C(s,{"data-type":"ellipsis"}),{default:u(()=>[g(e.$slots,"default",{},()=>[o[0]||(o[0]=k("â€¦"))])]),_:3},16))}}),qe=_e;const[B,Ce]=Y("PaginationRoot");var Ie=I({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(t,{emit:s}){const e=t,o=s,{siblingCount:l,disabled:a,showEdges:i}=Q(e);R();const f=Z(e,"page",o,{defaultValue:e.defaultPage,passive:e.page===void 0}),b=y(()=>Math.max(1,Math.ceil(e.total/(e.itemsPerPage||1))));return Ce({page:f,onPageChange(p){f.value=p},pageCount:b,siblingCount:l,disabled:a,showEdges:i}),(p,_)=>(r(),d(n(z),{as:p.as,"as-child":p.asChild},{default:u(()=>[g(p.$slots,"default",{page:n(f),pageCount:b.value})]),_:3},8,["as","as-child"]))}}),xe=Ie,$e=I({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=B();R();const o=y(()=>e.page.value===1||e.disabled.value);return(l,a)=>(r(),d(n(z),C(s,{"aria-label":"First Page",type:l.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&n(e).onPageChange(1))}),{default:u(()=>[g(l.$slots,"default",{},()=>[a[1]||(a[1]=k("First page"))])]),_:3},16,["type","disabled"]))}}),we=$e,Re=I({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=B();R();const o=y(()=>e.page.value===e.pageCount.value||e.disabled.value);return(l,a)=>(r(),d(n(z),C(s,{"aria-label":"Last Page",type:l.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&n(e).onPageChange(n(e).pageCount.value))}),{default:u(()=>[g(l.$slots,"default",{},()=>[a[1]||(a[1]=k("Last page"))])]),_:3},16,["type","disabled"]))}}),ze=Re;function $(t,s){const e=s-t+1;return Array.from({length:e},(o,l)=>l+t)}function Le(t){return t.map(s=>typeof s=="number"?{type:"page",value:s}:{type:"ellipsis"})}const M="ellipsis";function Ne(t,s,e,o){const a=s,i=Math.max(t-e,1),f=Math.min(t+e,a);if(o){const p=Math.min(2*e+5,s)-2,_=i>3&&Math.abs(a-p-1+1)>2&&Math.abs(i-1)>2,x=f<a-2&&Math.abs(a-p)>2&&Math.abs(a-f)>2;if(!_&&x)return[...$(1,p),M,a];if(_&&!x){const c=$(a-p+1,a);return[1,M,...c]}if(_&&x){const c=$(i,f);return[1,M,...c,M,a]}return $(1,a)}else{const b=e*2+1;return s<b?$(1,a):t<=e+1?$(1,b):s-t<=e?$(s-b+1,a):$(i,f)}}var ke=I({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;R();const e=B(),o=y(()=>Le(Ne(e.page.value,e.pageCount.value,e.siblingCount.value,e.showEdges.value)));return(l,a)=>(r(),d(n(z),ee(te(s)),{default:u(()=>[g(l.$slots,"default",{items:o.value})]),_:3},16))}}),Be=ke,Se=I({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),o=y(()=>e.page.value===s.value),l=y(()=>e.disabled.value);return(a,i)=>(r(),d(n(z),C(s,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":o.value?"page":void 0,"data-selected":o.value?"true":void 0,disabled:l.value,type:a.as==="button"?"button":void 0,onClick:i[0]||(i[0]=f=>!l.value&&n(e).onPageChange(a.value))}),{default:u(()=>[g(a.$slots,"default",{},()=>[k(ae(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Ee=Se,Fe=I({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),o=y(()=>e.page.value===e.pageCount.value||e.disabled.value);return(l,a)=>(r(),d(n(z),C(s,{"aria-label":"Next Page",type:l.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&n(e).onPageChange(n(e).page.value+1))}),{default:u(()=>[g(l.$slots,"default",{},()=>[a[1]||(a[1]=k("Next page"))])]),_:3},16,["type","disabled"]))}}),Me=Fe,De=I({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),o=y(()=>e.page.value===1||e.disabled.value);return(l,a)=>(r(),d(n(z),C(s,{"aria-label":"Previous Page",type:l.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&n(e).onPageChange(n(e).page.value-1))}),{default:u(()=>[g(l.$slots,"default",{},()=>[a[1]||(a[1]=k("Prev page"))])]),_:3},16,["type","disabled"]))}}),Ue=De;const je={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},Oe={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:[String,Object],required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},lastIcon:{type:[String,Object],required:!1},ellipsisIcon:{type:[String,Object],required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(t,{emit:s}){const e=t,o=s,l=se(),{dir:a}=le(),i=ne(),f=oe(ie(e,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),o),b=y(()=>e.firstIcon||(a.value==="rtl"?i.ui.icons.chevronDoubleRight:i.ui.icons.chevronDoubleLeft)),p=y(()=>e.prevIcon||(a.value==="rtl"?i.ui.icons.chevronRight:i.ui.icons.chevronLeft)),_=y(()=>e.nextIcon||(a.value==="rtl"?i.ui.icons.chevronLeft:i.ui.icons.chevronRight)),x=y(()=>e.lastIcon||(a.value==="rtl"?i.ui.icons.chevronDoubleLeft:i.ui.icons.chevronDoubleRight)),m=y(()=>T({extend:T(je),...i.ui?.pagination||{}})());return(c,S)=>(r(),d(n(xe),C(n(f),{class:m.value.root({class:[e.ui?.root,e.class]})}),{default:u(({page:q,pageCount:E})=>[P(n(Be),{class:w(m.value.list({class:e.ui?.list}))},{default:u(({items:U})=>[t.showControls||l.first?(r(),d(n(we),{key:0,"as-child":"",class:w(m.value.first({class:e.ui?.first}))},{default:u(()=>[g(c.$slots,"first",{},()=>[P(L,{color:t.color,variant:t.variant,size:t.size,icon:b.value,to:t.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):N("",!0),t.showControls||l.prev?(r(),d(n(Ue),{key:1,"as-child":"",class:w(m.value.prev({class:e.ui?.prev}))},{default:u(()=>[g(c.$slots,"prev",{},()=>[P(L,{color:t.color,variant:t.variant,size:t.size,icon:p.value,to:q>1?t.to?.(q-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):N("",!0),(r(!0),V(A,null,H(U,(h,F)=>(r(),V(A,null,[h.type==="page"?(r(),d(n(Ee),{key:F,"as-child":"",value:h.value,class:w(m.value.item({class:e.ui?.item}))},{default:u(()=>[g(c.$slots,"item",C({ref_for:!0},{item:h,index:F,page:q,pageCount:E}),()=>[P(L,{color:q===h.value?t.activeColor:t.color,variant:q===h.value?t.activeVariant:t.variant,size:t.size,label:String(h.value),ui:{label:m.value.label()},to:t.to?.(h.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(r(),d(n(qe),{key:h.type,index:F,"as-child":"",class:w(m.value.ellipsis({class:e.ui?.ellipsis}))},{default:u(()=>[g(c.$slots,"ellipsis",{},()=>[P(L,{color:t.color,variant:t.variant,size:t.size,icon:t.ellipsisIcon||n(i).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["index","class"]))],64))),256)),t.showControls||l.next?(r(),d(n(Me),{key:2,"as-child":"",class:w(m.value.next({class:e.ui?.next}))},{default:u(()=>[g(c.$slots,"next",{},()=>[P(L,{color:t.color,variant:t.variant,size:t.size,icon:_.value,to:q<E?t.to?.(q+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):N("",!0),t.showControls||l.last?(r(),d(n(ze),{key:3,"as-child":"",class:w(m.value.last({class:e.ui?.last}))},{default:u(()=>[g(c.$slots,"last",{},()=>[P(L,{color:t.color,variant:t.variant,size:t.size,icon:x.value,to:t.to?.(E)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):N("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},D=7,Xe=I({__name:"index",props:{themes:{}},async setup(t){let s,e;const o=re(),l=ue(parseInt(o.query.page||"1")),{data:a}=([s,e]=G(()=>j("blog",()=>O("teaching").first())),s=await s,e(),s),{data:i}=([s,e]=G(()=>j("lessons-count",()=>O("lessons").count())),s=await s,e(),s),{data:f}=j(o.path,()=>O("lessons").limit(D).skip((l.value-1)*D).all(),{watch:[l]}),b=Math.ceil((i.value||0)/D);(l.value<1||o.query.page&&l.value===1||l.value>b)&&de("/enseignements");const p=c=>c.id===f.value?.[0]?.id&&l.value===1,_=a.value?.seo?.title||a.value?.title,x=a.value?.seo?.description||a.value?.description;ce({title:_,ogTitle:_,description:x,ogDescription:x});const m=c=>t.themes.find(S=>S.path==="/enseignements/"+c.theme);return he(),(c,S)=>{const q=pe,E=me,U=be,h=Pe,F=Oe,J=ye,K=ve,W=fe;return r(),d(W,null,{default:u(()=>[P(q,{src:"/images/hero-blog.webp",class:"w-full aspect-video max-h-[32rem] object-cover object-center"}),P(K,null,{default:u(()=>[P(E,C(n(a),{class:"py-[50px]"}),null,16),P(J,null,{default:u(()=>[n(f)?(r(),d(h,{key:0},{default:u(()=>[(r(!0),V(A,null,H(n(f),(v,X)=>(r(),d(U,{key:X,to:v.path,title:v.title,description:v.description,image:v.image,date:new Date(v.date).toLocaleDateString("fr",{year:"numeric",month:"long",day:"numeric"}),authors:[v.author],badge:{label:m(v)?.title,color:m(v)?.color||"primary"},orientation:p(v)?"horizontal":"vertical",class:w([p(v)&&"col-span-full"]),variant:"naked",ui:{description:"line-clamp-2"}},null,8,["to","title","description","image","date","authors","badge","orientation","class"]))),128))]),_:1})):N("",!0),n(b)>1?(r(),d(F,{key:1,page:n(l),"onUpdate:page":S[0]||(S[0]=v=>ge(l)?l.value=v:null),"items-per-page":D,"show-edges":"",total:n(i),to:v=>({path:"/enseignements",query:v>1?{page:v}:{}}),class:"mt-10 flex justify-center"},null,8,["page","total","to"])):N("",!0)]),_:1})]),_:1})]),_:1})}}});export{Xe as default};
