import{B as F,r as v,W as qe,z as q,e as r,w as c,h as R,G as M,X as L,H as e,a9 as nt,aa as ot,ab as we,ac as Ke,ad as De,V as J,ae as Ne,af as Ce,ag as st,f as W,d as N,F as oe,I as ge,ah as rt,ai as je,aj as it,ak as ut,al as dt,am as ct,an as We,ao as pt,g as z,ap as ft,aq as ve,ar as gt,as as vt,at as mt,au as Ve,av as Te,o as de,aw as be,ax as yt,a1 as le,a4 as ht,ay as ze,az as _t,aA as He,aB as $e,aC as bt,aD as xt,aE as Oe,aF as St,aG as qt,c as wt,aH as Ct,aI as It,$ as kt,y as Ge,aJ as Pt,aK as Tt,aL as Ie,aM as Me,aN as zt,aO as Bt,aP as At,n as K,Z as xe,N as Re,t as X,M as Se,aQ as Ae,aR as Lt,a0 as ke,aS as Fe,aT as Et,aU as $t,a6 as Le,aV as Ot,P as Dt,L as Nt,J as ue,aW as Vt,aX as Mt,O as Rt,aY as Ft,E as Ut,aZ as Kt,_ as jt}from"#entry";import{_ as Wt,a as Ht}from"./CVgFCWlT.js";import{_ as Gt}from"./g6Za9bgq.js";import{u as Yt}from"./9v54ouTo.js";import{_ as Xt}from"./Bj6CTjPb.js";import{_ as Zt}from"./BFES-Nen.js";import{_ as Jt}from"./DIUlgoGd.js";import{_ as Qt}from"./Dp9YWf1p.js";import"./Dcm9wb4e.js";import"./CRu-j2f3.js";import"./BD63mw3m.js";function Ue(l,u=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY){return Math.min(a,Math.max(u,l))}var ea=F({__name:"BubbleSelect",props:{autocomplete:{type:String,required:!1},autofocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},form:{type:String,required:!1},multiple:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},size:{type:Number,required:!1},value:{type:null,required:!1}},setup(l){const u=l,a=v();return qe(()=>u.value,(t,s)=>{const m=window.HTMLSelectElement.prototype,b=Object.getOwnPropertyDescriptor(m,"value").set;if(t!==s&&b&&a.value){const g=new Event("change",{bubbles:!0});b.call(a.value,t),a.value.dispatchEvent(g)}}),(t,s)=>(r(),q(e(nt),{"as-child":""},{default:c(()=>[R("select",M({ref_key:"selectElement",ref:a},u),[L(t.$slots,"default")],16)]),_:3}))}}),ta=ea;const aa=[" ","Enter","ArrowUp","ArrowDown"],la=[" ","Enter"],te=10;function Pe(l,u,a){return l===void 0?!1:Array.isArray(l)?l.some(t=>Ee(t,u,a)):Ee(l,u,a)}function Ee(l,u,a){return l===void 0||u===void 0?!1:typeof l=="string"?l===u:typeof a=="function"?a(l,u):typeof a=="string"?l?.[a]===u?.[a]:ot(l,u)}function na(l){return l==null||l===""||Array.isArray(l)&&l.length===0}const oa={key:0,value:""},[ce,Ye]=we("SelectRoot");var sa=F({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1,default:void 0},by:{type:[String,Function],required:!1},dir:{type:String,required:!1},multiple:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(l,{emit:u}){const a=l,t=u,{required:s,disabled:m,multiple:w,dir:b}=Ke(a),g=De(a,"modelValue",t,{defaultValue:a.defaultValue??(w.value?[]:void 0),passive:a.modelValue===void 0,deep:!0}),y=De(a,"open",t,{defaultValue:a.defaultOpen,passive:a.open===void 0}),A=v(),C=v(),x=v({x:0,y:0}),P=J(()=>w.value&&Array.isArray(g.value)?g.value?.length===0:Ne(g.value));Ce({isProvider:!0});const p=st(b),V=Yt(A),O=v(new Set),H=J(()=>Array.from(O.value).map(n=>n.value).join(";"));function G(n){if(w.value){const h=Array.isArray(g.value)?[...g.value]:[],f=h.findIndex(_=>Ee(_,n,a.by));f===-1?h.push(n):h.splice(f,1),g.value=[...h]}else g.value=n}function D(n){return Array.from(O.value).find(h=>Pe(n,h.value,a.by))}return Ye({triggerElement:A,onTriggerChange:n=>{A.value=n},valueElement:C,onValueElementChange:n=>{C.value=n},contentId:"",modelValue:g,onValueChange:G,by:a.by,open:y,multiple:w,required:s,onOpenChange:n=>{y.value=n},dir:p,triggerPointerDownPosRef:x,disabled:m,isEmptyModelValue:P,optionsSet:O,onOptionAdd:n=>{const h=D(n.value);h&&O.value.delete(h),O.value.add(n)},onOptionRemove:n=>{const h=D(n.value);h&&O.value.delete(h)}}),(n,h)=>(r(),q(e(rt),null,{default:c(()=>[L(n.$slots,"default",{modelValue:e(g),open:e(y)}),e(V)?(r(),q(ta,{key:H.value,"aria-hidden":"true",tabindex:"-1",multiple:e(w),required:e(s),name:n.name,autocomplete:n.autocomplete,disabled:e(m),value:e(g)},{default:c(()=>[e(Ne)(e(g))?(r(),N("option",oa)):W("v-if",!0),(r(!0),N(oe,null,ge(Array.from(O.value),f=>(r(),N("option",M({key:f.value??""},{ref_for:!0},f),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):W("v-if",!0)]),_:3}))}}),ra=sa,ia=F({__name:"SelectPopperPosition",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1,default:te},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const a=je(l);return(t,s)=>(r(),q(e(it),M(e(a),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:c(()=>[L(t.$slots,"default")]),_:3},16))}}),ua=ia;const Xe={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[Be,Ze]=we("SelectContent");var da=F({__name:"SelectContentImpl",props:{position:{type:String,required:!1,default:"item-aligned"},bodyLock:{type:Boolean,required:!1,default:!0},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(l,{emit:u}){const a=l,t=u,s=ce();ut(),dt(a.bodyLock);const{CollectionSlot:m,getItems:w}=Ce(),b=v();ct(b);const{search:g,handleTypeaheadSearch:y}=We(),A=v(),C=v(),x=v(),P=v(!1),p=v(!1),V=v(!1);function O(){C.value&&b.value&&Ve([C.value,b.value])}qe(P,()=>{O()});const{onOpenChange:H,triggerPointerDownPosRef:G}=s;pt(f=>{if(!b.value)return;let _={x:0,y:0};const B=$=>{_={x:Math.abs(Math.round($.pageX)-(G.value?.x??0)),y:Math.abs(Math.round($.pageY)-(G.value?.y??0))}},I=$=>{$.pointerType!=="touch"&&(_.x<=10&&_.y<=10?$.preventDefault():b.value?.contains($.target)||H(!1),document.removeEventListener("pointermove",B),G.value=null)};G.value!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",I,{capture:!0,once:!0})),f(()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",I,{capture:!0})})});function D(f){const _=f.ctrlKey||f.altKey||f.metaKey;if(f.key==="Tab"&&f.preventDefault(),!_&&f.key.length===1&&y(f.key,w()),["ArrowUp","ArrowDown","Home","End"].includes(f.key)){let I=[...w().map($=>$.ref)];if(["ArrowUp","End"].includes(f.key)&&(I=I.slice().reverse()),["ArrowUp","ArrowDown"].includes(f.key)){const $=f.target,ee=I.indexOf($);I=I.slice(ee+1)}setTimeout(()=>Ve(I)),f.preventDefault()}}const n=J(()=>a.position==="popper"?a:{}),h=je(n.value);return Ze({content:b,viewport:A,onViewportChange:f=>{A.value=f},itemRefCallback:(f,_,B)=>{const I=!p.value&&!B,$=Pe(s.modelValue.value,_,s.by);if(s.multiple.value){if(V.value)return;($||I)&&(C.value=f,$&&(V.value=!0))}else($||I)&&(C.value=f);I&&(p.value=!0)},selectedItem:C,selectedItemText:x,onItemLeave:()=>{b.value?.focus()},itemTextRefCallback:(f,_,B)=>{const I=!p.value&&!B;(Pe(s.modelValue.value,_,s.by)||I)&&(x.value=f)},focusSelectedItem:O,position:a.position,isPositioned:P,searchRef:g}),(f,_)=>(r(),q(e(m),null,{default:c(()=>[z(e(ft),{"as-child":"",onMountAutoFocus:_[6]||(_[6]=ve(()=>{},["prevent"])),onUnmountAutoFocus:_[7]||(_[7]=B=>{t("closeAutoFocus",B),!B.defaultPrevented&&(e(s).triggerElement.value?.focus({preventScroll:!0}),B.preventDefault())})},{default:c(()=>[z(e(gt),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:_[2]||(_[2]=ve(()=>{},["prevent"])),onDismiss:_[3]||(_[3]=B=>e(s).onOpenChange(!1)),onEscapeKeyDown:_[4]||(_[4]=B=>t("escapeKeyDown",B)),onPointerDownOutside:_[5]||(_[5]=B=>t("pointerDownOutside",B))},{default:c(()=>[(r(),q(vt(f.position==="popper"?ua:ga),M({...f.$attrs,...e(h)},{id:e(s).contentId,ref:B=>{const I=e(mt)(B);I?.hasAttribute("data-reka-popper-content-wrapper")?b.value=I.firstElementChild:b.value=I},role:"listbox","data-state":e(s).open.value?"open":"closed",dir:e(s).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:_[0]||(_[0]=ve(()=>{},["prevent"])),onPlaced:_[1]||(_[1]=B=>P.value=!0),onKeydown:D}),{default:c(()=>[L(f.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3})]),_:3}))}}),ca=da;const[bl,pa]=we("SelectItemAlignedPosition");var fa=F({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["placed"],setup(l,{emit:u}){const a=l,t=u,{getItems:s}=Ce(),m=ce(),w=Be(),b=v(!1),g=v(!0),y=v(),{forwardRef:A,currentElement:C}=Te(),{viewport:x,selectedItem:P,selectedItemText:p,focusSelectedItem:V}=w;function O(){if(m.triggerElement.value&&m.valueElement.value&&y.value&&C.value&&x?.value&&P?.value&&p?.value){const D=m.triggerElement.value.getBoundingClientRect(),n=C.value.getBoundingClientRect(),h=m.valueElement.value.getBoundingClientRect(),f=p.value.getBoundingClientRect();if(m.dir.value!=="rtl"){const Y=f.left-n.left,o=h.left-Y,j=D.left-o,Q=D.width+j,ye=Math.max(Q,n.width),he=window.innerWidth-te,_e=Ue(o,te,Math.max(te,he-ye));y.value.style.minWidth=`${Q}px`,y.value.style.left=`${_e}px`}else{const Y=n.right-f.right,o=window.innerWidth-h.right-Y,j=window.innerWidth-D.right-o,Q=D.width+j,ye=Math.max(Q,n.width),he=window.innerWidth-te,_e=Ue(o,te,Math.max(te,he-ye));y.value.style.minWidth=`${Q}px`,y.value.style.right=`${_e}px`}const _=s().map(Y=>Y.ref),B=window.innerHeight-te*2,I=x.value.scrollHeight,$=window.getComputedStyle(C.value),ee=Number.parseInt($.borderTopWidth,10),pe=Number.parseInt($.paddingTop,10),T=Number.parseInt($.borderBottomWidth,10),se=Number.parseInt($.paddingBottom,10),re=ee+pe+I+se+T,fe=Math.min(P.value.offsetHeight*5,re),ne=window.getComputedStyle(x.value),me=Number.parseInt(ne.paddingTop,10),d=Number.parseInt(ne.paddingBottom,10),i=D.top+D.height/2-te,E=B-i,S=P.value.offsetHeight/2,Z=P.value.offsetTop+S,U=ee+pe+Z,ie=re-U;if(U<=i){const Y=P.value===_[_.length-1];y.value.style.bottom="0px";const o=C.value.clientHeight-x.value.offsetTop-x.value.offsetHeight,j=Math.max(E,S+(Y?d:0)+o+T),Q=U+j;y.value.style.height=`${Q}px`}else{const Y=P.value===_[0];y.value.style.top="0px";const j=Math.max(i,ee+x.value.offsetTop+(Y?me:0)+S)+ie;y.value.style.height=`${j}px`,x.value.scrollTop=U-i+x.value.offsetTop}y.value.style.margin=`${te}px 0`,y.value.style.minHeight=`${fe}px`,y.value.style.maxHeight=`${B}px`,t("placed"),requestAnimationFrame(()=>b.value=!0)}}const H=v("");de(async()=>{await be(),O(),C.value&&(H.value=window.getComputedStyle(C.value).zIndex)});function G(D){D&&g.value===!0&&(O(),V?.(),g.value=!1)}return yt(m.triggerElement,()=>{O()}),pa({contentWrapper:y,shouldExpandOnScrollRef:b,onScrollButtonChange:G}),(D,n)=>(r(),N("div",{ref_key:"contentWrapperElement",ref:y,style:ht({display:"flex",flexDirection:"column",position:"fixed",zIndex:H.value})},[z(e(le),M({ref:e(A),style:{boxSizing:"border-box",maxHeight:"100%"}},{...D.$attrs,...a}),{default:c(()=>[L(D.$slots,"default")]),_:3},16)],4))}}),ga=fa,va=F({__name:"SelectArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(l){const u=l,a=ce(),t=Be(Xe);return(s,m)=>e(a).open.value&&e(t).position==="popper"?(r(),q(e(_t),ze(M({key:0},u)),{default:c(()=>[L(s.$slots,"default")]),_:3},16)):W("v-if",!0)}}),ma=va,ya=F({inheritAttrs:!1,__name:"SelectProvider",props:{context:{type:Object,required:!0}},setup(l){return Ye(l.context),Ze(Xe),(a,t)=>L(a.$slots,"default")}}),ha=ya;const _a={key:1};var ba=F({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(l,{emit:u}){const a=l,s=He(a,u),m=ce(),w=v();de(()=>{w.value=new DocumentFragment});const b=v(),g=J(()=>a.forceMount||m.open.value),y=v(g.value);return qe(g,()=>{setTimeout(()=>y.value=g.value)}),(A,C)=>g.value||y.value||b.value?.present?(r(),q(e(bt),{key:0,ref_key:"presenceRef",ref:b,present:g.value},{default:c(()=>[z(ca,ze($e({...e(s),...A.$attrs})),{default:c(()=>[L(A.$slots,"default")]),_:3},16)]),_:3},8,["present"])):w.value?(r(),N("div",_a,[(r(),q(xt,{to:w.value},[z(ha,{context:e(m)},{default:c(()=>[L(A.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):W("v-if",!0)}}),xa=ba;const[Sa,qa]=we("SelectGroup");var wa=F({__name:"SelectGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const u=l,a=Oe(void 0,"reka-select-group");return qa({id:a}),(t,s)=>(r(),q(e(le),M({role:"group"},u,{"aria-labelledby":e(a)}),{default:c(()=>[L(t.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Ca=wa;const[Je,Ia]=we("SelectItem");var ka=F({__name:"SelectItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(l,{emit:u}){const a=l,t=u,{disabled:s}=Ke(a),m=ce(),w=Be(),{forwardRef:b,currentElement:g}=Te(),{CollectionItem:y}=Ce(),A=J(()=>Pe(m.modelValue?.value,a.value,m.by)),C=v(!1),x=v(a.textValue??""),P=Oe(void 0,"reka-select-item-text"),p="select.select";async function V(n){if(n.defaultPrevented)return;const h={originalEvent:n,value:a.value};St(p,O,h)}async function O(n){await be(),t("select",n),!n.defaultPrevented&&(s.value||(m.onValueChange(a.value),m.multiple.value||m.onOpenChange(!1)))}async function H(n){await be(),!n.defaultPrevented&&(s.value?w.onItemLeave?.():n.currentTarget?.focus({preventScroll:!0}))}async function G(n){await be(),!n.defaultPrevented&&n.currentTarget===qt()&&w.onItemLeave?.()}async function D(n){await be(),!(n.defaultPrevented||w.searchRef?.value!==""&&n.key===" ")&&(la.includes(n.key)&&V(n),n.key===" "&&n.preventDefault())}if(a.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return de(()=>{g.value&&w.itemRefCallback(g.value,a.value,a.disabled)}),Ia({value:a.value,disabled:s,textId:P,isSelected:A,onItemTextChange:n=>{x.value=((x.value||n?.textContent)??"").trim()}}),(n,h)=>(r(),q(e(y),{value:{textValue:x.value}},{default:c(()=>[z(e(le),{ref:e(b),role:"option","aria-labelledby":e(P),"data-highlighted":C.value?"":void 0,"aria-selected":A.value,"data-state":A.value?"checked":"unchecked","aria-disabled":e(s)||void 0,"data-disabled":e(s)?"":void 0,tabindex:e(s)?void 0:-1,as:n.as,"as-child":n.asChild,onFocus:h[0]||(h[0]=f=>C.value=!0),onBlur:h[1]||(h[1]=f=>C.value=!1),onPointerup:V,onPointerdown:h[2]||(h[2]=f=>{f.currentTarget.focus({preventScroll:!0})}),onTouchend:h[3]||(h[3]=ve(()=>{},["prevent","stop"])),onPointermove:H,onPointerleave:G,onKeydown:D},{default:c(()=>[L(n.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),Pa=ka,Ta=F({__name:"SelectItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const u=l,a=Je();return(t,s)=>e(a).isSelected.value?(r(),q(e(le),M({key:0,"aria-hidden":"true"},u),{default:c(()=>[L(t.$slots,"default")]),_:3},16)):W("v-if",!0)}}),za=Ta,Ba=F({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const u=l,a=ce(),t=Be(),s=Je(),{forwardRef:m,currentElement:w}=Te(),b=J(()=>({value:s.value,disabled:s.disabled.value,textContent:w.value?.textContent??s.value?.toString()??""}));return de(()=>{w.value&&(s.onItemTextChange(w.value),t.itemTextRefCallback(w.value,s.value,s.disabled.value),a.onOptionAdd(b.value))}),wt(()=>{a.onOptionRemove(b.value)}),(g,y)=>(r(),q(e(le),M({id:e(s).textId,ref:e(m)},{...u,...g.$attrs}),{default:c(()=>[L(g.$slots,"default")]),_:3},16,["id"]))}}),Aa=Ba,La=F({__name:"SelectLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const u=l,a=Sa({id:""});return(t,s)=>(r(),q(e(le),M(u,{id:e(a).id}),{default:c(()=>[L(t.$slots,"default")]),_:3},16,["id"]))}}),Ea=La,$a=F({__name:"SelectPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(l){const u=l;return(a,t)=>(r(),q(e(Ct),ze($e(u)),{default:c(()=>[L(a.$slots,"default")]),_:3},16))}}),Oa=$a,Da=F({__name:"SelectSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const u=l;return(a,t)=>(r(),q(e(le),M({"aria-hidden":"true"},u),{default:c(()=>[L(a.$slots,"default")]),_:3},16))}}),Na=Da,Va=F({__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const u=l,a=ce(),{forwardRef:t,currentElement:s}=Te(),m=J(()=>a.disabled?.value||u.disabled);a.contentId||=Oe(void 0,"reka-select-content"),de(()=>{a.onTriggerChange(s.value)});const{getItems:w}=Ce(),{search:b,handleTypeaheadSearch:g,resetTypeahead:y}=We();function A(){m.value||(a.onOpenChange(!0),y())}function C(x){A(),a.triggerPointerDownPosRef.value={x:Math.round(x.pageX),y:Math.round(x.pageY)}}return(x,P)=>(r(),q(e(It),{"as-child":"",reference:x.reference},{default:c(()=>[z(e(le),{ref:e(t),role:"combobox",type:x.as==="button"?"button":void 0,"aria-controls":e(a).contentId,"aria-expanded":e(a).open.value||!1,"aria-required":e(a).required?.value,"aria-autocomplete":"none",disabled:m.value,dir:e(a)?.dir.value,"data-state":e(a)?.open.value?"open":"closed","data-disabled":m.value?"":void 0,"data-placeholder":e(na)(e(a).modelValue?.value)?"":void 0,"as-child":x.asChild,as:x.as,onClick:P[0]||(P[0]=p=>{p?.currentTarget?.focus()}),onPointerdown:P[1]||(P[1]=p=>{if(p.pointerType==="touch")return p.preventDefault();const V=p.target;V.hasPointerCapture(p.pointerId)&&V.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&(C(p),p.preventDefault())}),onPointerup:P[2]||(P[2]=ve(p=>{p.pointerType==="touch"&&C(p)},["prevent"])),onKeydown:P[3]||(P[3]=p=>{const V=e(b)!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&V&&p.key===" "||(e(g)(p.key,e(w)()),e(aa).includes(p.key)&&(A(),p.preventDefault()))})},{default:c(()=>[L(x.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]),_:3},8,["reference"]))}}),Ma=Va;const Ra={slots:{base:["relative group rounded-md inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed",value:"truncate pointer-events-none",placeholder:"truncate text-dimmed",arrow:"fill-default",content:"max-h-60 w-(--reka-select-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-select-content-transform-origin) pointer-events-auto flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate"},variants:{fieldGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1 text-xs"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1.5 text-xs"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-1.5 text-sm"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-2 text-sm"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",empty:"p-2 text-base"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Fa=Object.assign({inheritAttrs:!1},{__name:"USelect",props:{id:{type:String,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},trailingIcon:{type:[String,Object],required:!1},selectedIcon:{type:[String,Object],required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},valueKey:{type:null,required:!1,default:"value"},labelKey:{type:null,required:!1,default:"label"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},icon:{type:[String,Object],required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:[String,Object],required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1}},emits:["update:open","change","blur","focus","update:modelValue"],setup(l,{expose:u,emit:a}){const t=l,s=a,m=kt(),w=Ge(),b=He(Pt(t,"open","defaultOpen","disabled","autocomplete","required","multiple"),s),g=Tt(Ie(()=>t.portal)),y=Ie(()=>Me(t.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),A=Ie(()=>t.arrow),{emitFormChange:C,emitFormInput:x,emitFormBlur:P,emitFormFocus:p,size:V,color:O,id:H,name:G,highlight:D,disabled:n,ariaAttrs:h}=zt(t),{orientation:f,size:_}=Bt(t),{isLeading:B,isTrailing:I,leadingIconName:$,trailingIconName:ee}=At(Ie(()=>Me(t,{trailingIcon:w.ui.icons.chevronDown}))),pe=J(()=>_.value||V.value),T=J(()=>ke({extend:ke(Ra),...w.ui?.select||{}})({color:O.value,variant:t.variant,size:pe?.value,loading:t.loading,highlight:D.value,leading:B.value||!!t.avatar||!!m.leading,trailing:I.value||!!m.trailing,fieldGroup:f.value})),se=J(()=>t.items?.length?Et(t.items)?t.items:[t.items]:[]),re=J(()=>se.value.flatMap(S=>S));function fe(S){if(t.multiple&&Array.isArray(S)){const Z=S.map(U=>Fe(re.value,U,{labelKey:t.labelKey,valueKey:t.valueKey})).filter(U=>U!=null&&U!=="");return Z.length>0?Z.join(", "):void 0}return Fe(re.value,S,{labelKey:t.labelKey,valueKey:t.valueKey})}const ne=v(null);function me(){t.autofocus&&ne.value?.$el?.focus({focusVisible:!0})}de(()=>{setTimeout(()=>{me()},t.autofocusDelay)});function d(S){const Z=new Event("change",{target:{value:S}});s("change",Z),C(),x()}function i(S){if(S){const Z=new FocusEvent("focus");s("focus",Z),p()}else{const Z=new FocusEvent("blur");s("blur",Z),P()}}function E(S){return typeof S=="object"&&S!==null}return u({triggerRef:ne}),(S,Z)=>(r(),q(e(ra),M({name:e(G)},e(b),{autocomplete:l.autocomplete,disabled:e(n),"default-value":l.defaultValue,"model-value":l.modelValue,"onUpdate:modelValue":d,"onUpdate:open":i}),{default:c(({modelValue:U,open:ie})=>[z(e(Ma),M({id:e(H),ref_key:"triggerRef",ref:ne,class:T.value.base({class:[t.ui?.base,t.class]})},{...S.$attrs,...e(h)}),{default:c(()=>[e(B)||l.avatar||m.leading?(r(),N("span",{key:0,class:K(T.value.leading({class:t.ui?.leading}))},[L(S.$slots,"leading",{modelValue:U,open:ie,ui:T.value},()=>[e(B)&&e($)?(r(),q(xe,{key:0,name:e($),class:K(T.value.leadingIcon({class:t.ui?.leadingIcon}))},null,8,["name","class"])):l.avatar?(r(),q(Re,M({key:1,size:t.ui?.itemLeadingAvatarSize||T.value.itemLeadingAvatarSize()},l.avatar,{class:T.value.itemLeadingAvatar({class:t.ui?.itemLeadingAvatar})}),null,16,["size","class"])):W("",!0)])],2)):W("",!0),L(S.$slots,"default",{modelValue:U,open:ie},()=>[(r(!0),N(oe,null,ge([fe(U)],ae=>(r(),N(oe,{key:ae},[ae!=null?(r(),N("span",{key:0,class:K(T.value.value({class:t.ui?.value}))},X(ae),3)):(r(),N("span",{key:1,class:K(T.value.placeholder({class:t.ui?.placeholder}))},X(l.placeholder??" "),3))],64))),128))]),e(I)||m.trailing?(r(),N("span",{key:1,class:K(T.value.trailing({class:t.ui?.trailing}))},[L(S.$slots,"trailing",{modelValue:U,open:ie,ui:T.value},()=>[e(ee)?(r(),q(xe,{key:0,name:e(ee),class:K(T.value.trailingIcon({class:t.ui?.trailingIcon}))},null,8,["name","class"])):W("",!0)])],2)):W("",!0)]),_:2},1040,["id","class"]),z(e(Oa),ze($e(e(g))),{default:c(()=>[z(e(xa),M({class:T.value.content({class:t.ui?.content})},y.value),{default:c(()=>[L(S.$slots,"content-top"),R("div",{role:"presentation",class:K(T.value.viewport({class:t.ui?.viewport}))},[(r(!0),N(oe,null,ge(se.value,(ae,Y)=>(r(),q(e(Ca),{key:`group-${Y}`,class:K(T.value.group({class:t.ui?.group}))},{default:c(()=>[(r(!0),N(oe,null,ge(ae,(o,j)=>(r(),N(oe,{key:`group-${Y}-${j}`},[E(o)&&o.type==="label"?(r(),q(e(Ea),{key:0,class:K(T.value.label({class:[t.ui?.label,o.ui?.label,o.class]}))},{default:c(()=>[Se(X(e(Ae)(o,t.labelKey)),1)]),_:2},1032,["class"])):E(o)&&o.type==="separator"?(r(),q(e(Na),{key:1,class:K(T.value.separator({class:[t.ui?.separator,o.ui?.separator,o.class]}))},null,8,["class"])):(r(),q(e(Pa),{key:2,class:K(T.value.item({class:[t.ui?.item,E(o)&&o.ui?.item,E(o)&&o.class]})),disabled:E(o)&&o.disabled,value:E(o)?e(Ae)(o,t.valueKey):o,onSelect:Q=>E(o)&&o.onSelect?.(Q)},{default:c(()=>[L(S.$slots,"item",{item:o,index:j},()=>[L(S.$slots,"item-leading",{item:o,index:j},()=>[E(o)&&o.icon?(r(),q(xe,{key:0,name:o.icon,class:K(T.value.itemLeadingIcon({class:[t.ui?.itemLeadingIcon,o.ui?.itemLeadingIcon]}))},null,8,["name","class"])):E(o)&&o.avatar?(r(),q(Re,M({key:1,size:o.ui?.itemLeadingAvatarSize||t.ui?.itemLeadingAvatarSize||T.value.itemLeadingAvatarSize()},{ref_for:!0},o.avatar,{class:T.value.itemLeadingAvatar({class:[t.ui?.itemLeadingAvatar,o.ui?.itemLeadingAvatar]})}),null,16,["size","class"])):E(o)&&o.chip?(r(),q(Lt,M({key:2,size:o.ui?.itemLeadingChipSize||t.ui?.itemLeadingChipSize||T.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},o.chip,{class:T.value.itemLeadingChip({class:[t.ui?.itemLeadingChip,o.ui?.itemLeadingChip]})}),null,16,["size","class"])):W("",!0)]),z(e(Aa),{class:K(T.value.itemLabel({class:[t.ui?.itemLabel,E(o)&&o.ui?.itemLabel]}))},{default:c(()=>[L(S.$slots,"item-label",{item:o,index:j},()=>[Se(X(E(o)?e(Ae)(o,t.labelKey):o),1)])]),_:2},1032,["class"]),R("span",{class:K(T.value.itemTrailing({class:[t.ui?.itemTrailing,E(o)&&o.ui?.itemTrailing]}))},[L(S.$slots,"item-trailing",{item:o,index:j}),z(e(za),{"as-child":""},{default:c(()=>[z(xe,{name:l.selectedIcon||e(w).ui.icons.check,class:K(T.value.itemTrailingIcon({class:[t.ui?.itemTrailingIcon,E(o)&&o.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:2},1032,["class","disabled","value","onSelect"]))],64))),128))]),_:2},1032,["class"]))),128))],2),L(S.$slots,"content-bottom"),l.arrow?(r(),q(e(ma),M({key:0},A.value,{class:T.value.arrow({class:t.ui?.arrow})}),null,16,["class"])):W("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16,["name","autocomplete","disabled","default-value","model-value"]))}}),Ua={base:"animate-pulse rounded-md bg-elevated"},Ka={__name:"USkeleton",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(l){const u=l,a=Ge(),t=J(()=>ke({extend:ke(Ua),...a.ui?.skeleton||{}}));return(s,m)=>(r(),q(e(le),{as:l.as,"aria-busy":"true","aria-label":"loading","aria-live":"polite",role:"alert",class:K(t.value({class:u.class}))},{default:c(()=>[L(s.$slots,"default")]),_:3},8,["as","class"]))}},ja={class:"flex flex-col sm:flex-row gap-4 mb-6"},Wa={key:0,class:"space-y-4"},Ha={key:1,class:"text-center py-12"},Ga={key:2,class:"space-y-4"},Ya={class:"flex items-center justify-between"},Xa={class:"flex-1"},Za={class:"font-semibold text-lg text-gray-900 dark:text-white"},Ja={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Qa={class:"flex items-center gap-2"},el={class:"space-y-3"},tl={class:"border-l-4 border-primary-500 pl-4 italic text-gray-700 dark:text-gray-300"},al={class:"prose prose-sm dark:prose-invert max-w-none"},ll={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},nl={key:0},ol={key:3,class:"flex justify-center mt-8"},sl={class:"flex gap-3 justify-end"},rl=F({__name:"notes",setup(l){$t({title:"Mes Notes",meta:[{name:"description",content:"Gérez vos notes personnelles sur les versets bibliques"},{name:"robots",content:"noindex,nofollow"}]});const u=v([]),a=v(!1),t=v(1),s=v(10),m=v(0),w=J(()=>Math.ceil(m.value/s.value)),b=v(""),g=v(null),y=v(""),A=v(!1),C=v(!1),x=v(!1),P=v(null),p=v(null),V=v(!1),O=v(null),H=v([]),G=[{label:"Toutes les notes",value:null},{label:"Notes privées",value:"true"},{label:"Notes publiques",value:"false"}],D=v([]),n=v(void 0),h=v({title:"",content:"",verseId:void 0,isPrivate:!1}),f=(d,i)=>d.length<=i?d:d.substring(0,i)+"...",_=d=>(typeof d=="string"&&(d=new Date(d)),d.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})),B=Mt(async()=>{if(await I(),y.value.trim()===""||y.value.length<=3)return;t.value=1;const d=[];for(const i of u.value)(i.title?.toLowerCase().includes(y.value.toLowerCase())||i.content.toLowerCase().includes(y.value.toLowerCase()))&&d.push(i);u.value=d},500),I=async()=>{a.value=!0;try{const d=new URLSearchParams;d.append("limit",s.value.toString()),d.append("offset",((t.value-1)*s.value).toString()),b.value&&d.append("book",b.value),g.value!==null&&d.append("private",g.value);const i=await $fetch(`/api/bible/notes?${d.toString()}`);u.value=i.data.notes,m.value=i.data.pagination.total}catch(d){console.error("Erreur lors du chargement des notes:",d),Le().add({title:"Erreur",description:"Impossible de charger les notes",color:"error"})}finally{a.value=!1}},$=async()=>{try{const d=await $fetch("/api/bible/books");H.value=d.data.all.map(i=>({label:i.name,value:i.code})),H.value.unshift({label:"Tous les livres",value:null})}catch(d){console.error("Erreur lors du chargement des livres:",d)}},ee=async(d="")=>{try{const i=new URLSearchParams;d&&i.append("q",d),i.append("limit","50");const E=await $fetch(`/api/bible/search?${i.toString()}`);E.data&&E.data.verses&&(D.value=E.data.verses.map(S=>({label:`${S.book.name} ${S.chapter}:${S.verse} - ${f(S.text,60)}`,value:S.id})))}catch(i){console.error("Erreur lors du chargement des versets:",i)}},pe=()=>{p.value=null,h.value={title:"",content:"",verseId:void 0,isPrivate:!1},n.value=void 0,A.value=!0,ee()},T=d=>{p.value=d,h.value={title:d.title||"",content:d.content,verseId:void 0,isPrivate:d.isPrivate},C.value=!1,A.value=!0},se=d=>{P.value=d,C.value=!0},re=()=>{A.value=!1,p.value=null,h.value={title:"",content:"",verseId:void 0,isPrivate:!1},n.value=void 0},fe=d=>{O.value=d,x.value=!0},ne=async()=>{if(O.value){V.value=!0;try{await $fetch(`/api/bible/notes/${O.value.id}`,{method:"DELETE"}),Le().add({title:"Succès",description:"Note supprimée avec succès",color:"success"}),C.value&&(C.value=!1),x.value=!1,O.value=null,await I()}catch(d){console.error("Erreur lors de la suppression:",d),Le().add({title:"Erreur",description:"Erreur lors de la suppression",color:"error"})}finally{V.value=!1}}},me=d=>[[{label:"Voir",icon:"i-heroicons-eye",onSelect:()=>se(d)}],[{label:"Modifier",icon:"i-heroicons-pencil",onSelect:()=>T(d)}],[{label:"Supprimer",icon:"i-heroicons-trash",onSelect:()=>fe(d)}]];return de(()=>{I(),$()}),qe([b,g],()=>{t.value=1,I()}),qe(n,d=>{d&&(h.value.verseId=d)}),(d,i)=>{const E=Nt,S=Wt,Z=Gt,U=Fa,ie=Vt,ae=Ka,Y=xe,o=Rt,j=Ft,Q=Xt,ye=Zt,he=Ht,_e=Dt,Qe=Ut,et=Jt,tt=Qt,at=Kt,lt=Ot;return r(),q(lt,null,{default:c(()=>[z(Qe,null,{default:c(()=>[z(_e,null,{default:c(()=>[z(S,{title:"Mes Notes",description:"Gérez vos notes personnelles sur les versets bibliques"},{right:c(()=>[z(E,{icon:"i-heroicons-plus",label:"Nouvelle note",onClick:pe})]),_:1}),z(he,null,{default:c(()=>[R("div",ja,[z(Z,{modelValue:e(b),"onUpdate:modelValue":i[0]||(i[0]=k=>ue(b)?b.value=k:null),items:e(H),"label-key":"label","value-key":"value",placeholder:"Tous les livres",searchable:"",class:"flex-1",onChange:I},null,8,["modelValue","items"]),z(U,{modelValue:e(g),"onUpdate:modelValue":i[1]||(i[1]=k=>ue(g)?g.value=k:null),items:G,"label-key":"label","value-key":"value",placeholder:"Toutes les notes",class:"flex-1 sm:flex-none",onChange:I},null,8,["modelValue"]),z(ie,{modelValue:e(y),"onUpdate:modelValue":i[2]||(i[2]=k=>ue(y)?y.value=k:null),placeholder:"Rechercher dans les notes...",icon:"i-heroicons-magnifying-glass",class:"flex-1",onInput:e(B)},null,8,["modelValue","onInput"])]),e(a)?(r(),N("div",Wa,[(r(),N(oe,null,ge(3,k=>z(ae,{key:k,class:"h-32 w-full"})),64))])):e(u).length===0?(r(),N("div",Ha,[z(Y,{name:"i-heroicons-document-text",class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i[9]||(i[9]=R("p",{class:"text-gray-500 text-lg mb-4"}," Aucune note trouvée ",-1)),z(E,{to:"/bible",icon:"i-lucide-book-open-text",label:"Lire la Bible"})])):(r(),N("div",Ga,[(r(!0),N(oe,null,ge(e(u),k=>(r(),q(Q,{key:k.id,class:"hover:shadow-lg transition-shadow cursor-pointer",onClick:il=>se(k)},{header:c(()=>[R("div",Ya,[R("div",Xa,[R("h3",Za,X(k.title||"Note sans titre"),1),R("p",Ja,X(k.book.name)+" "+X(k.verse.chapter)+":"+X(k.verse.verse)+" ("+X(k.verse.version.code)+") ",1)]),R("div",Qa,[z(o,{color:k.isPrivate?"error":"success",size:"xs"},{default:c(()=>[Se(X(k.isPrivate?"Privée":"Publique"),1)]),_:2},1032,["color"]),z(j,{items:me(k)},{default:c(()=>[z(E,{icon:"i-heroicons-ellipsis-vertical",variant:"ghost",size:"sm",onClick:i[3]||(i[3]=ve(()=>{},["stop"]))})]),_:1},8,["items"])])])]),default:c(()=>[R("div",el,[R("blockquote",tl,' "'+X(f(k.verse.text,150))+'" ',1),R("div",al,X(f(k.content,200)),1),R("div",ll,[R("span",null,"Créée le "+X(_(k.createdAt)),1),k.updatedAt!==k.createdAt?(r(),N("span",nl," Modifiée le "+X(_(k.updatedAt)),1)):W("",!0)])])]),_:2},1032,["onClick"]))),128))])),e(w)>1?(r(),N("div",ol,[z(ye,{modelValue:e(t),"onUpdate:modelValue":[i[4]||(i[4]=k=>ue(t)?t.value=k:null),I],"page-count":e(s),total:e(m)},null,8,["modelValue","page-count","total"])])):W("",!0)]),_:1})]),_:1})]),_:1}),e(P)?(r(),q(et,{key:0,open:e(C),"onUpdate:open":i[5]||(i[5]=k=>ue(C)?C.value=k:null),notes:[e(P)],verse:e(P).verse,book:e(P).book,footer:!1,onEdit:T,onDelete:fe},null,8,["open","notes","verse","book"])):W("",!0),e(p)?(r(),q(tt,{key:1,open:e(A),"onUpdate:open":i[6]||(i[6]=k=>ue(A)?A.value=k:null),note:e(p),verse:e(p).verse,book:e(p).book,onClose:re,onRefreshNote:I},null,8,["open","note","verse","book"])):W("",!0),z(at,{open:e(x),"onUpdate:open":i[8]||(i[8]=k=>ue(x)?x.value=k:null),title:"Supprimer la note"},{body:c(()=>[...i[10]||(i[10]=[R("p",{class:"text-gray-600 dark:text-gray-400"}," Êtes-vous sûr de vouloir supprimer cette note ? Cette action est irréversible. ",-1)])]),footer:c(()=>[R("div",sl,[z(E,{color:"neutral",variant:"soft",onClick:i[7]||(i[7]=k=>x.value=!1)},{default:c(()=>[...i[11]||(i[11]=[Se(" Annuler ",-1)])]),_:1}),z(E,{color:"error",loading:e(V),onClick:ne},{default:c(()=>[...i[12]||(i[12]=[Se(" Supprimer ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])]),_:1})}}}),xl=jt(rl,[["__scopeId","data-v-55939456"]]);export{xl as default};
