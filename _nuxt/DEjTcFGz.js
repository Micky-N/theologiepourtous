import{_ as $,a as q}from"./SLxr-Eaq.js";import{_ as D}from"./DXub1hf0.js";import{_ as I}from"./3OpNAs3T.js";import{_ as S}from"./CobAF68Z.js";import{z as A,v as E,r as F,E as y,J as L,I as l,w as c,S as M,g as m,U as N,C as n,f as R,d as V,K as j,F as z,a7 as H,e as i}from"#entry";import{u as p}from"./38kU-qnc.js";import{q as u}from"./CsPnchMx.js";import{d as J}from"./D8rO69WY.js";import"./Cj-Qqv67.js";const r=6,at=A({__name:"index",async setup(K){let e,s;const _=E(),a=F(parseInt(_.query.page||"1")),{data:o}=([e,s]=y(()=>p("blog",()=>u("blog").first())),e=await e,s(),e),{data:d}=([e,s]=y(()=>p("posts-count",()=>u("posts").count())),e=await e,s(),e),{data:v}=p(_.path,()=>u("posts").limit(r).skip((a.value-1)*r).all(),{watch:[a]}),C=Math.ceil((d.value||0)/r),g=o.value?.seo?.title||o.value?.title,f=o.value?.seo?.description||o.value?.description;return L({title:g,ogTitle:g,description:f,ogDescription:f}),J(),(O,h)=>{const w=$,P=D,U=I,b=S,x=q,k=M;return i(),l(k,null,{default:c(()=>[m(w,N(n(o),{class:"py-[50px]"}),null,16),m(x,null,{default:c(()=>[m(U,null,{default:c(()=>[(i(!0),V(z,null,j(n(v),(t,B)=>(i(),l(P,{key:B,to:t.path,title:t.title,description:t.description,image:t.image,date:new Date(t.date).toLocaleDateString("fr",{year:"numeric",month:"short",day:"numeric"}),authors:[{...t.author,to:t.author.to||void 0}],badge:t.badge,orientation:"vertical",variant:"outline",ui:{description:"line-clamp-2"}},null,8,["to","title","description","image","date","authors","badge"]))),128))]),_:1}),n(C)>1?(i(),l(b,{key:0,page:n(a),"onUpdate:page":h[0]||(h[0]=t=>H(a)?a.value=t:null),"items-per-page":r,"show-edges":"",total:n(d),to:t=>({path:"/blog",query:t>1?{page:t}:{}}),class:"mt-10 flex justify-center"},null,8,["page","total","to"])):R("",!0)]),_:1})]),_:1})}}});export{at as default};
